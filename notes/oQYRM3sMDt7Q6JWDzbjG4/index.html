<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="/notes/favicon.ico"/><title>Shell Scripting</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Notes"/><meta property="og:title" content="Shell Scripting"/><meta property="og:description" content="Notes"/><meta property="og:url" content="https://vinaykakkad.github.io/notes/notes/oQYRM3sMDt7Q6JWDzbjG4/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="1/22/2022"/><meta property="article:modified_time" content="1/5/2023"/><link rel="canonical" href="https://vinaykakkad.github.io/notes/notes/oQYRM3sMDt7Q6JWDzbjG4/"/><meta name="next-head-count" content="14"/><link rel="preload" href="/notes/_next/static/css/43ff47b87e0ea661.css" as="style"/><link rel="stylesheet" href="/notes/_next/static/css/43ff47b87e0ea661.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/notes/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/notes/_next/static/chunks/webpack-3c3caf24173c5c0a.js" defer=""></script><script src="/notes/_next/static/chunks/framework-28c999baf2863c3d.js" defer=""></script><script src="/notes/_next/static/chunks/main-5bb057769933cd70.js" defer=""></script><script src="/notes/_next/static/chunks/pages/_app-bc43cc4f0bf62fc2.js" defer=""></script><script src="/notes/_next/static/chunks/935-4dee79e80b8641c6.js" defer=""></script><script src="/notes/_next/static/chunks/6-50972def09142ee2.js" defer=""></script><script src="/notes/_next/static/chunks/pages/notes/%5Bid%5D-78d472fa3b924116.js" defer=""></script><script src="/notes/_next/static/MLvBP94-qoW53z-SfSVxG/_buildManifest.js" defer=""></script><script src="/notes/_next/static/MLvBP94-qoW53z-SfSVxG/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div style="display:flex" class="ant-col ant-col-xs-20 ant-col-sm-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"><div class="ant-select ant-select-lg ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-show-search" style="width:100%"><div class="ant-select-selector"><span class="ant-select-selection-search"><input type="search" autoComplete="off" class="ant-select-selection-search-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span><span class="ant-select-selection-placeholder">For full text search please use the &#x27;?&#x27; prefix. e.g. ? Onboarding</span></div></div></div><div style="display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout" style="margin-top:64px;display:flex;flex-direction:row"><div class="site-layout-sidebar" style="flex:0 0 auto;width:calc(max((100% - 992px) / 2, 0px) + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);background-color:transparent;flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></div><main class="ant-layout-content side-layout-main" style="max-width:1200px;min-width:0;display:block"><div style="padding:0 24px"><div class="main-content" role="main"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="shell-scripting">Shell Scripting<a aria-hidden="true" class="anchor-heading icon-link" href="#shell-scripting"></a></h1>
<h2 id="shell-vs-terminal">Shell vs Terminal<a aria-hidden="true" class="anchor-heading icon-link" href="#shell-vs-terminal"></a></h2>
<ul>
<li>kernel - server</li>
<li>shell - middleware</li>
<li>terminal - client</li>
</ul>
<h2 id="shell-prompt">shell prompt<a aria-hidden="true" class="anchor-heading icon-link" href="#shell-prompt"></a></h2>
<ul>
<li><code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">$</code> at the end of the prompt ⇒ normal user</li>
<li><code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">#</code> at the end of the prompt ⇒ root user
<ul>
<li><code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">sudo su</code> to open a terminal as a root user</li>
</ul>
</li>
</ul>
<h2 id="shell-functions">shell functions<a aria-hidden="true" class="anchor-heading icon-link" href="#shell-functions"></a></h2>
<ul>
<li>they are built-in programs stored on our file system</li>
<li>the shell searches for these programs through the <code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">PATH</code> environment variable</li>
<li><code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">which</code> gives the path of the program that would be executed for a particular command</li>
</ul>
<h2 id="environment-variables">environment variables<a aria-hidden="true" class="anchor-heading icon-link" href="#environment-variables"></a></h2>
<ul>
<li>variables that are automatically set when you start the shell</li>
<li>example: <code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">path</code></li>
</ul>
<h2 id="interesting-stuff-from-missing-semester">interesting stuff from <a href="https://missing.csail.mit.edu/2020/course-shell/">missing semester</a><a aria-hidden="true" class="anchor-heading icon-link" href="#interesting-stuff-from-missing-semester"></a></h2>
<ul>
<li>almost all files in <code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">/bin</code> have a <code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">x</code> permission set for the last group
<ul>
<li>so that anyone can execute those programs</li>
</ul>
</li>
<li>sudo - do as su(superuser)</li>
<li>using the sys directory we can interact and do cool stuff with hardware
<ul>
<li><a href="https://missing.csail.mit.edu/2020/course-shell/#:~:text=a%20versatile%20and%20powerful%20tool">controling the backlit programtically</a></li>
</ul>
</li>
</ul>
<h2 id="flags-vs-options">flags vs options<a aria-hidden="true" class="anchor-heading icon-link" href="#flags-vs-options"></a></h2>
<ul>
<li>if we pass some value with a flag - option</li>
<li>here <code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">-p</code> (don't follow symlinks) is a flag and <code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">iname</code> is an option</li>
</ul>
<pre class="language-bash"><code class="language-bash"><span class="token function">find</span> -P -iname <span class="token string">'*some_string*'</span>
</code></pre>
<h2 id="streams">streams<a aria-hidden="true" class="anchor-heading icon-link" href="#streams"></a></h2>
<ul>
<li>in shell, every program have input and output streams, by default set to terminal</li>
<li>this can be configured using <code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">&#x3C; file</code> and <code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">> file</code></li>
<li>this  command reads from hello1 and writes to hello2</li>
</ul>
<pre class="language-bash"><code class="language-bash"><span class="token function">cat</span> <span class="token operator">&#x3C;</span> hello1.txt <span class="token operator">></span> hello2.txt
</code></pre>
<ul>
<li><code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">>> file</code> will append instead of overwriting to a file</li>
<li>can be also used for streaming media files when combined with <a href="https://vitux.com/how-to-cast-video-from-ubuntu-to-chromecast/">chormecast</a></li>
</ul>
<h2 id="strings">strings<a aria-hidden="true" class="anchor-heading icon-link" href="#strings"></a></h2>
<ul>
<li>defined with <code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">'</code> are string literals</li>
<li>defined with <code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">"</code> will expand and substitute variables</li>
<li><a href="https://www.gnu.org/software/bash/manual/html_node/Quoting.html">bash quoting</a></li>
</ul>
<h2 id="special-variable-in-bash-scripting">special variable in bash scripting<a aria-hidden="true" class="anchor-heading icon-link" href="#special-variable-in-bash-scripting"></a></h2>
<ul>
<li><code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">$0</code> - Name of the script</li>
<li><code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">$1</code>to <code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">$9</code> - Arguments to the script. <code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">$1</code> is the first argument and so on.</li>
<li><code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">$@</code> - All the arguments</li>
<li><code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">$#</code> - Number of arguments</li>
<li><code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">$?</code> - Return code of the previous command</li>
<li><code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">$$</code> - Process identification number (PID) for the current script</li>
<li><code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">!!</code> - Entire last command, including arguments
<ul>
<li>can be useful if we realize that the command needs root privileges after executing it for the first time</li>
<li>just type <code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">sudo !!</code> followed by a <code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">tab</code></li>
</ul>
</li>
<li><code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">$_</code> - Last argument from the last command</li>
</ul>
<h2 id="exit-codes-and-short-circuiting">exit codes and short-circuiting<a aria-hidden="true" class="anchor-heading icon-link" href="#exit-codes-and-short-circuiting"></a></h2>
<pre class="language-bash"><code class="language-bash"><span class="token boolean">false</span> <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">"Oops, fail"</span>
<span class="token comment"># Oops, fail</span>

<span class="token boolean">true</span> <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">"Will not be printed"</span>
<span class="token comment">#</span>

<span class="token boolean">true</span> <span class="token operator">&#x26;&#x26;</span> <span class="token builtin class-name">echo</span> <span class="token string">"Things went well"</span>
<span class="token comment"># Things went well</span>

<span class="token boolean">false</span> <span class="token operator">&#x26;&#x26;</span> <span class="token builtin class-name">echo</span> <span class="token string">"Will not be printed"</span>
<span class="token comment">#</span>

<span class="token boolean">true</span> <span class="token punctuation">;</span> <span class="token builtin class-name">echo</span> <span class="token string">"This will always run"</span>
<span class="token comment"># This will always run</span>

<span class="token boolean">false</span> <span class="token punctuation">;</span> <span class="token builtin class-name">echo</span> <span class="token string">"This will always run"</span>
<span class="token comment"># This will always run</span>
</code></pre>
<h2 id="wildstars-and-globbing">wildstars and globbing<a aria-hidden="true" class="anchor-heading icon-link" href="#wildstars-and-globbing"></a></h2>
<ul>
<li><code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">?</code> - to match one character only</li>
<li><code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">*</code> - to match any amount of characters</li>
<li><code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">{}</code> - expand command using a list of arguments</li>
</ul>
<pre class="language-bash"><code class="language-bash">convert image.<span class="token punctuation">{</span>png,jpg<span class="token punctuation">}</span>
<span class="token comment"># Will expand to</span>
convert image.png image.jpg

<span class="token comment"># Globbing techniques can also be combined</span>

<span class="token comment"># This will move all *.py and *.sh files</span>
<span class="token function">mv</span> *<span class="token punctuation">{</span>.py,.sh<span class="token punctuation">}</span> folder

<span class="token function">mkdir</span> foo bar
<span class="token comment"># This creates files foo/a, foo/b, ... foo/h, bar/a, bar/b, ... bar/h</span>
<span class="token function">touch</span> <span class="token punctuation">{</span>foo,bar<span class="token punctuation">}</span>/<span class="token punctuation">{</span>a<span class="token punctuation">..</span>h<span class="token punctuation">}</span>
<span class="token function">touch</span> foo/x bar/y

<span class="token comment"># Show differences between files in foo and bar</span>
<span class="token function">diff</span> <span class="token operator">&#x3C;</span><span class="token punctuation">(</span><span class="token function">ls</span> foo<span class="token punctuation">)</span> <span class="token operator">&#x3C;</span><span class="token punctuation">(</span><span class="token function">ls</span> bar<span class="token punctuation">)</span>
<span class="token comment"># Outputs</span>
<span class="token comment"># &#x3C; x</span>
<span class="token comment"># ---</span>
<span class="token comment"># > y</span>
</code></pre>
<h2 id="scripting-vs-functions">scripting vs functions<a aria-hidden="true" class="anchor-heading icon-link" href="#scripting-vs-functions"></a></h2>
<ul>
<li>
<p>functions should be in the same language</p>
</li>
<li>
<p>scripts can be in any language</p>
<ul>
<li>env can be specified using the <code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">shebang</code></li>
<li>a good practice is to give env name as an argument, rather than the direct path    </li>
<li>
<pre class="language-bash"><code class="language-bash">    <span class="token comment">#! usr/bin/env env_name</span>
    ```
<span class="token operator">&#x3C;</span>br<span class="token operator">></span>
</code></pre>
</li>
</ul>
</li>
<li>
<p>functions are loaded only for the first time ⇒ they are faster</p>
</li>
<li>
<p>scripts are loaded every time they are executed</p>
</li>
</ul>
<br>
<ul>
<li>functions are loaded in the current shell environment
<ul>
<li>functions can modify environment variables</li>
</ul>
</li>
<li>scripts are executed in their separate processes</li>
</ul>
<h2 id="tools">tools<a aria-hidden="true" class="anchor-heading icon-link" href="#tools"></a></h2>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled> <code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">TLDR</code> pages or <code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">bro</code> pages instead of <code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">man</code> pages</li>
<li class="task-list-item"><input type="checkbox" disabled> for finding and performing ops on file
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled> <code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">find</code> command</li>
<li class="task-list-item"><input type="checkbox" disabled> <code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">fd</code> - better alternative</li>
<li class="task-list-item"><input type="checkbox" disabled> <code style="background-color: #43b02a40; padding:3px 2px; border-radius: 5px">locate</code> - uses indexing</li>
</ul>
</li>
</ul></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#shell-vs-terminal" title="Shell vs Terminal">Shell vs Terminal</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#shell-prompt" title="shell prompt">shell prompt</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#shell-functions" title="shell functions">shell functions</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#environment-variables" title="environment variables">environment variables</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#interesting-stuff-from-missing-semester" title="interesting stuff from missing semester">interesting stuff from missing semester</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#flags-vs-options" title="flags vs options">flags vs options</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#streams" title="streams">streams</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#strings" title="strings">strings</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#special-variable-in-bash-scripting" title="special variable in bash scripting">special variable in bash scripting</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#exit-codes-and-short-circuiting" title="exit codes and short-circuiting">exit codes and short-circuiting</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#wildstars-and-globbing" title="wildstars and globbing">wildstars and globbing</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#scripting-vs-functions" title="scripting vs functions">scripting vs functions</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#tools" title="tools">tools</a></div></div></div></div></div></div></div></div></div></div></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></main></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"oQYRM3sMDt7Q6JWDzbjG4","title":"Shell Scripting","desc":"","updated":1672923910585,"created":1642880615533,"custom":{},"fname":"cli.shell-scripting","type":"note","vault":{"fsPath":"vault"},"contentHash":"abf2e24277574caf438790c1b7c97886","links":[],"anchors":{"shell-vs-terminal":{"type":"header","text":"Shell vs Terminal","value":"shell-vs-terminal","line":8,"column":0,"depth":2},"shell-prompt":{"type":"header","text":"shell prompt","value":"shell-prompt","line":14,"column":0,"depth":2},"shell-functions":{"type":"header","text":"shell functions","value":"shell-functions","line":20,"column":0,"depth":2},"environment-variables":{"type":"header","text":"environment variables","value":"environment-variables","line":26,"column":0,"depth":2},"interesting-stuff-from-missing-semester":{"type":"header","text":"interesting stuff from missing semester","value":"interesting-stuff-from-missing-semester","line":31,"column":0,"depth":2},"flags-vs-options":{"type":"header","text":"flags vs options","value":"flags-vs-options","line":39,"column":0,"depth":2},"streams":{"type":"header","text":"streams","value":"streams","line":48,"column":0,"depth":2},"strings":{"type":"header","text":"strings","value":"strings","line":61,"column":0,"depth":2},"special-variable-in-bash-scripting":{"type":"header","text":"special variable in bash scripting","value":"special-variable-in-bash-scripting","line":67,"column":0,"depth":2},"exit-codes-and-short-circuiting":{"type":"header","text":"exit codes and short-circuiting","value":"exit-codes-and-short-circuiting","line":80,"column":0,"depth":2},"wildstars-and-globbing":{"type":"header","text":"wildstars and globbing","value":"wildstars-and-globbing","line":102,"column":0,"depth":2},"scripting-vs-functions":{"type":"header","text":"scripting vs functions","value":"scripting-vs-functions","line":131,"column":0,"depth":2},"tools":{"type":"header","text":"tools","value":"tools","line":151,"column":0,"depth":2}},"children":[],"parent":"ydBpHsjLwIGYomDZo8NtB","data":{}},"body":"\u003ch1 id=\"shell-scripting\"\u003eShell Scripting\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#shell-scripting\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003ch2 id=\"shell-vs-terminal\"\u003eShell vs Terminal\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#shell-vs-terminal\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003ekernel - server\u003c/li\u003e\n\u003cli\u003eshell - middleware\u003c/li\u003e\n\u003cli\u003eterminal - client\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"shell-prompt\"\u003eshell prompt\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#shell-prompt\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003e$\u003c/code\u003e at the end of the prompt ⇒ normal user\u003c/li\u003e\n\u003cli\u003e\u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003e#\u003c/code\u003e at the end of the prompt ⇒ root user\n\u003cul\u003e\n\u003cli\u003e\u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003esudo su\u003c/code\u003e to open a terminal as a root user\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"shell-functions\"\u003eshell functions\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#shell-functions\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003ethey are built-in programs stored on our file system\u003c/li\u003e\n\u003cli\u003ethe shell searches for these programs through the \u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003ePATH\u003c/code\u003e environment variable\u003c/li\u003e\n\u003cli\u003e\u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003ewhich\u003c/code\u003e gives the path of the program that would be executed for a particular command\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"environment-variables\"\u003eenvironment variables\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#environment-variables\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003evariables that are automatically set when you start the shell\u003c/li\u003e\n\u003cli\u003eexample: \u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003epath\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"interesting-stuff-from-missing-semester\"\u003einteresting stuff from \u003ca href=\"https://missing.csail.mit.edu/2020/course-shell/\"\u003emissing semester\u003c/a\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#interesting-stuff-from-missing-semester\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003ealmost all files in \u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003e/bin\u003c/code\u003e have a \u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003ex\u003c/code\u003e permission set for the last group\n\u003cul\u003e\n\u003cli\u003eso that anyone can execute those programs\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003esudo - do as su(superuser)\u003c/li\u003e\n\u003cli\u003eusing the sys directory we can interact and do cool stuff with hardware\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://missing.csail.mit.edu/2020/course-shell/#:~:text=a%20versatile%20and%20powerful%20tool\"\u003econtroling the backlit programtically\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"flags-vs-options\"\u003eflags vs options\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#flags-vs-options\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eif we pass some value with a flag - option\u003c/li\u003e\n\u003cli\u003ehere \u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003e-p\u003c/code\u003e (don't follow symlinks) is a flag and \u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003einame\u003c/code\u003e is an option\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e\u003cspan class=\"token function\"\u003efind\u003c/span\u003e -P -iname \u003cspan class=\"token string\"\u003e'*some_string*'\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"streams\"\u003estreams\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#streams\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003ein shell, every program have input and output streams, by default set to terminal\u003c/li\u003e\n\u003cli\u003ethis can be configured using \u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003e\u0026#x3C; file\u003c/code\u003e and \u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003e\u003e file\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003ethis  command reads from hello1 and writes to hello2\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e\u003cspan class=\"token function\"\u003ecat\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003e hello1.txt \u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e hello2.txt\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003e\u003e\u003e file\u003c/code\u003e will append instead of overwriting to a file\u003c/li\u003e\n\u003cli\u003ecan be also used for streaming media files when combined with \u003ca href=\"https://vitux.com/how-to-cast-video-from-ubuntu-to-chromecast/\"\u003echormecast\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"strings\"\u003estrings\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#strings\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003edefined with \u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003e'\u003c/code\u003e are string literals\u003c/li\u003e\n\u003cli\u003edefined with \u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003e\"\u003c/code\u003e will expand and substitute variables\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://www.gnu.org/software/bash/manual/html_node/Quoting.html\"\u003ebash quoting\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"special-variable-in-bash-scripting\"\u003especial variable in bash scripting\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#special-variable-in-bash-scripting\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003e$0\u003c/code\u003e - Name of the script\u003c/li\u003e\n\u003cli\u003e\u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003e$1\u003c/code\u003eto \u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003e$9\u003c/code\u003e - Arguments to the script. \u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003e$1\u003c/code\u003e is the first argument and so on.\u003c/li\u003e\n\u003cli\u003e\u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003e$@\u003c/code\u003e - All the arguments\u003c/li\u003e\n\u003cli\u003e\u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003e$#\u003c/code\u003e - Number of arguments\u003c/li\u003e\n\u003cli\u003e\u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003e$?\u003c/code\u003e - Return code of the previous command\u003c/li\u003e\n\u003cli\u003e\u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003e$$\u003c/code\u003e - Process identification number (PID) for the current script\u003c/li\u003e\n\u003cli\u003e\u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003e!!\u003c/code\u003e - Entire last command, including arguments\n\u003cul\u003e\n\u003cli\u003ecan be useful if we realize that the command needs root privileges after executing it for the first time\u003c/li\u003e\n\u003cli\u003ejust type \u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003esudo !!\u003c/code\u003e followed by a \u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003etab\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003e$_\u003c/code\u003e - Last argument from the last command\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"exit-codes-and-short-circuiting\"\u003eexit codes and short-circuiting\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#exit-codes-and-short-circuiting\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e\u003cspan class=\"token boolean\"\u003efalse\u003c/span\u003e \u003cspan class=\"token operator\"\u003e||\u003c/span\u003e \u003cspan class=\"token builtin class-name\"\u003eecho\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"Oops, fail\"\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e# Oops, fail\u003c/span\u003e\n\n\u003cspan class=\"token boolean\"\u003etrue\u003c/span\u003e \u003cspan class=\"token operator\"\u003e||\u003c/span\u003e \u003cspan class=\"token builtin class-name\"\u003eecho\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"Will not be printed\"\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e#\u003c/span\u003e\n\n\u003cspan class=\"token boolean\"\u003etrue\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026#x26;\u0026#x26;\u003c/span\u003e \u003cspan class=\"token builtin class-name\"\u003eecho\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"Things went well\"\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e# Things went well\u003c/span\u003e\n\n\u003cspan class=\"token boolean\"\u003efalse\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026#x26;\u0026#x26;\u003c/span\u003e \u003cspan class=\"token builtin class-name\"\u003eecho\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"Will not be printed\"\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e#\u003c/span\u003e\n\n\u003cspan class=\"token boolean\"\u003etrue\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token builtin class-name\"\u003eecho\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"This will always run\"\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e# This will always run\u003c/span\u003e\n\n\u003cspan class=\"token boolean\"\u003efalse\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token builtin class-name\"\u003eecho\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"This will always run\"\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e# This will always run\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"wildstars-and-globbing\"\u003ewildstars and globbing\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#wildstars-and-globbing\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003e?\u003c/code\u003e - to match one character only\u003c/li\u003e\n\u003cli\u003e\u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003e*\u003c/code\u003e - to match any amount of characters\u003c/li\u003e\n\u003cli\u003e\u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003e{}\u003c/code\u003e - expand command using a list of arguments\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003econvert image.\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003epng,jpg\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e# Will expand to\u003c/span\u003e\nconvert image.png image.jpg\n\n\u003cspan class=\"token comment\"\u003e# Globbing techniques can also be combined\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e# This will move all *.py and *.sh files\u003c/span\u003e\n\u003cspan class=\"token function\"\u003emv\u003c/span\u003e *\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e.py,.sh\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e folder\n\n\u003cspan class=\"token function\"\u003emkdir\u003c/span\u003e foo bar\n\u003cspan class=\"token comment\"\u003e# This creates files foo/a, foo/b, ... foo/h, bar/a, bar/b, ... bar/h\u003c/span\u003e\n\u003cspan class=\"token function\"\u003etouch\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003efoo,bar\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e/\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003ea\u003cspan class=\"token punctuation\"\u003e..\u003c/span\u003eh\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token function\"\u003etouch\u003c/span\u003e foo/x bar/y\n\n\u003cspan class=\"token comment\"\u003e# Show differences between files in foo and bar\u003c/span\u003e\n\u003cspan class=\"token function\"\u003ediff\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token function\"\u003els\u003c/span\u003e foo\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token function\"\u003els\u003c/span\u003e bar\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e# Outputs\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e# \u0026#x3C; x\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e# ---\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e# \u003e y\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"scripting-vs-functions\"\u003escripting vs functions\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#scripting-vs-functions\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003efunctions should be in the same language\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003escripts can be in any language\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eenv can be specified using the \u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003eshebang\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003ea good practice is to give env name as an argument, rather than the direct path    \u003c/li\u003e\n\u003cli\u003e\n\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e    \u003cspan class=\"token comment\"\u003e#! usr/bin/env env_name\u003c/span\u003e\n    ```\n\u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003ebr\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003efunctions are loaded only for the first time ⇒ they are faster\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003escripts are loaded every time they are executed\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cbr\u003e\n\u003cul\u003e\n\u003cli\u003efunctions are loaded in the current shell environment\n\u003cul\u003e\n\u003cli\u003efunctions can modify environment variables\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003escripts are executed in their separate processes\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"tools\"\u003etools\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#tools\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul class=\"contains-task-list\"\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" disabled\u003e \u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003eTLDR\u003c/code\u003e pages or \u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003ebro\u003c/code\u003e pages instead of \u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003eman\u003c/code\u003e pages\u003c/li\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" disabled\u003e for finding and performing ops on file\n\u003cul class=\"contains-task-list\"\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" disabled\u003e \u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003efind\u003c/code\u003e command\u003c/li\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" disabled\u003e \u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003efd\u003c/code\u003e - better alternative\u003c/li\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" disabled\u003e \u003ccode style=\"background-color: #43b02a40; padding:3px 2px; border-radius: 5px\"\u003elocate\u003c/code\u003e - uses indexing\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e","noteIndex":{"id":"LBE6GBZjFtOaX27nwRSpq","title":"Notes 📚","desc":"","updated":1642916746120,"created":1642875904363,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"vault"},"contentHash":"f3ab1afac9d88a8f51c98f4e257b81a2","links":[],"anchors":{},"children":["H8OS9Ap2DDjZ7XSIZWpQT","m2fe4910vhlj3cwsbw45wfc","tpmpx2xkasjhbntai7ejfx3","ydBpHsjLwIGYomDZo8NtB","g9m1mlmymq7qvcjzi8ap2qu"],"parent":null,"data":{},"body":"\n![home](/assets/images/home.png)\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":false,"leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2,"vaultSelectionModeOnCreate":"smart"}},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"randomNote":{},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":"vault"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":true,"maxPreviewsCached":10,"maxNoteLength":204800,"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"enableUserTags":true,"enableHashTags":true,"dendronVersion":"0.83.0","enableEditorDecorations":true,"enableFullHierarchyNoteTitle":false,"templateHierarchy":"template"},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"theme":"custom"},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"assetsPrefix":"/notes","copyAssets":true,"siteHierarchies":["root"],"enableSiteLastModified":true,"siteRootDir":"docs","siteUrl":"https://vinaykakkad.github.io","enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"duplicateNoteBehavior":{"action":"useVault","payload":["vault"]},"writeStubs":false,"seo":{"title":"Notes","description":"Notes"},"github":{"enableEditLink":true,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enablePrettyLinks":true,"enableTaskNotes":true,"theme":"custom","searchMode":"lookup","siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"oQYRM3sMDt7Q6JWDzbjG4"},"buildId":"MLvBP94-qoW53z-SfSVxG","assetPrefix":"/notes","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>