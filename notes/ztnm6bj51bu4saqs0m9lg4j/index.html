<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="/notes/favicon.ico"/><title>Generators</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Notes"/><meta property="og:title" content="Generators"/><meta property="og:description" content="Notes"/><meta property="og:url" content="https://vinaykakkad.github.io/notes/notes/ztnm6bj51bu4saqs0m9lg4j/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="1/10/2023"/><meta property="article:modified_time" content="1/10/2023"/><link rel="canonical" href="https://vinaykakkad.github.io/notes/notes/ztnm6bj51bu4saqs0m9lg4j/"/><meta name="next-head-count" content="14"/><link rel="preload" href="/notes/_next/static/css/43ff47b87e0ea661.css" as="style"/><link rel="stylesheet" href="/notes/_next/static/css/43ff47b87e0ea661.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/notes/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/notes/_next/static/chunks/webpack-3c3caf24173c5c0a.js" defer=""></script><script src="/notes/_next/static/chunks/framework-28c999baf2863c3d.js" defer=""></script><script src="/notes/_next/static/chunks/main-5bb057769933cd70.js" defer=""></script><script src="/notes/_next/static/chunks/pages/_app-bc43cc4f0bf62fc2.js" defer=""></script><script src="/notes/_next/static/chunks/935-4dee79e80b8641c6.js" defer=""></script><script src="/notes/_next/static/chunks/6-50972def09142ee2.js" defer=""></script><script src="/notes/_next/static/chunks/pages/notes/%5Bid%5D-78d472fa3b924116.js" defer=""></script><script src="/notes/_next/static/MLvBP94-qoW53z-SfSVxG/_buildManifest.js" defer=""></script><script src="/notes/_next/static/MLvBP94-qoW53z-SfSVxG/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div style="display:flex" class="ant-col ant-col-xs-20 ant-col-sm-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"><div class="ant-select ant-select-lg ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-show-search" style="width:100%"><div class="ant-select-selector"><span class="ant-select-selection-search"><input type="search" autoComplete="off" class="ant-select-selection-search-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span><span class="ant-select-selection-placeholder">For full text search please use the &#x27;?&#x27; prefix. e.g. ? Onboarding</span></div></div></div><div style="display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout" style="margin-top:64px;display:flex;flex-direction:row"><div class="site-layout-sidebar" style="flex:0 0 auto;width:calc(max((100% - 992px) / 2, 0px) + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);background-color:transparent;flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></div><main class="ant-layout-content side-layout-main" style="max-width:1200px;min-width:0;display:block"><div style="padding:0 24px"><div class="main-content" role="main"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="generators">Generators<a aria-hidden="true" class="anchor-heading icon-link" href="#generators"></a></h1>
<h1 id="what-is-a-generator">What is a generator?<a aria-hidden="true" class="anchor-heading icon-link" href="#what-is-a-generator"></a></h1>
<ol>
<li>generator is a function:
<ul>
<li>that returns an object when you call <code>next()</code>
<ul>
<li>stores the state between multiple <code>next()</code> executions</li>
<li><code>next()</code> can be called until we encounter a <code>StopIteration</code></li>
</ul>
</li>
</ul>
</li>
<li>generator is a function:
<ul>
<li>that behaves like an <code>iterator</code></li>
</ul>
</li>
</ol>
<h1 id="exampleuse-case">Example(use case)<a aria-hidden="true" class="anchor-heading icon-link" href="#exampleuse-case"></a></h1>
<ul>
<li>we write a program that makes a list of first</li>
</ul>
<h2 id="the-non-efficient-way">The non-efficient way<a aria-hidden="true" class="anchor-heading icon-link" href="#the-non-efficient-way"></a></h2>
<pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">first_n</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">'''Build and return a list'''</span>
    num<span class="token punctuation">,</span> nums <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">while</span> num <span class="token operator">&#x3C;</span> n<span class="token punctuation">:</span>
        nums<span class="token punctuation">.</span>append<span class="token punctuation">(</span>num<span class="token punctuation">)</span>
        num <span class="token operator">+=</span> <span class="token number">1</span>
    <span class="token keyword">return</span> nums
   
   
sum_of_first_n <span class="token operator">=</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>first_n<span class="token punctuation">(</span><span class="token number">1000000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<ul>
<li>this will create the entire list in memory
<ul>
<li><strong><em>would be very bad if we something other than integer(ex: file)</em></strong></li>
</ul>
</li>
</ul>
<h2 id="efficient-custom-iterator-way">Efficient Custom Iterator way<a aria-hidden="true" class="anchor-heading icon-link" href="#efficient-custom-iterator-way"></a></h2>
<ul>
<li>adding the <code>__iter__</code> and <code>__next__</code> methods</li>
<li>sum will now take values using the <code>next()</code></li>
</ul>
<pre class="language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">first_n</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>


    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>n <span class="token operator">=</span> n
        self<span class="token punctuation">.</span>num <span class="token operator">=</span> <span class="token number">0</span>


    <span class="token keyword">def</span> <span class="token function">__iter__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self


    <span class="token keyword">def</span> <span class="token function">__next__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>num <span class="token operator">&#x3C;</span> self<span class="token punctuation">.</span>n<span class="token punctuation">:</span>
            cur<span class="token punctuation">,</span> self<span class="token punctuation">.</span>num <span class="token operator">=</span> self<span class="token punctuation">.</span>num<span class="token punctuation">,</span> self<span class="token punctuation">.</span>num<span class="token operator">+</span><span class="token number">1</span>
            <span class="token keyword">return</span> cur
        <span class="token keyword">raise</span> StopIteration<span class="token punctuation">(</span><span class="token punctuation">)</span>


sum_of_first_n <span class="token operator">=</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>first_n<span class="token punctuation">(</span><span class="token number">1000000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<ul>
<li>this is memory efficient, but there is still a lot of boilerplate code</li>
</ul>
<h2 id="efficient-generator-way">Efficient Generator Way<a aria-hidden="true" class="anchor-heading icon-link" href="#efficient-generator-way"></a></h2>
<pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">firstn</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    num <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">while</span> num <span class="token operator">&#x3C;</span> n<span class="token punctuation">:</span>
        <span class="token keyword">yield</span> num
        num <span class="token operator">+=</span> <span class="token number">1</span>

sum_of_first_n <span class="token operator">=</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>firstn<span class="token punctuation">(</span><span class="token number">1000000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<h1 id="understanding-generator">Understanding Generator<a aria-hidden="true" class="anchor-heading icon-link" href="#understanding-generator"></a></h1>
<ul>
<li>generator looks like a normal function, except for the <code>yield</code> statement
<ul>
<li><code>yield</code> sends the value back to the caller like return, <strong><em>but the function</em></strong> is not exited yet</li>
<li>the <strong>state</strong> of the function is stored until the next <code>next()</code> function call (implicitly using <code>for</code> or explicitly using <code>next()</code>)</li>
</ul>
</li>
</ul>
<h2 id="understanding-the-yield-statement">Understanding the <code>yield</code> statement<a aria-hidden="true" class="anchor-heading icon-link" href="#understanding-the-yield-statement"></a></h2>
<ul>
<li>the <code>next()</code> call on a generator object triggers the execution of function until a <code>yield</code> statement is encountered
<ul>
<li>on encountering <code>yield</code> the value is returned and that <strong>state</strong> is saved</li>
<li>this includes
<ul>
<li>any local variables</li>
<li>instruction pointer</li>
<li>internal stack</li>
<li>exception handling</li>
</ul>
</li>
</ul>
</li>
<li>the next <code>next()</code> continues the execution of function right below the <code>yield statement</code>
<ul>
<li>if there is no next yield in the function, a <code>StopIteration</code> error would be thrown</li>
</ul>
</li>
</ul>
<pre class="language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">def</span> <span class="token function">multi_yield</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     yield_str <span class="token operator">=</span> <span class="token string">"This will print the first string"</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">yield</span> yield_str
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     yield_str <span class="token operator">=</span> <span class="token string">"This will print the second string"</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">yield</span> yield_str
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token operator">>></span><span class="token operator">></span> multi_obj <span class="token operator">=</span> multi_yield<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>multi_obj<span class="token punctuation">)</span><span class="token punctuation">)</span>
This will <span class="token keyword">print</span> the first string
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>multi_obj<span class="token punctuation">)</span><span class="token punctuation">)</span>
This will <span class="token keyword">print</span> the second string
<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>multi_obj<span class="token punctuation">)</span><span class="token punctuation">)</span>
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">"&#x3C;stdin>"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&#x3C;</span>module<span class="token operator">></span>
StopIteration
</code></pre>
<h1 id="tradeoffs-memory-vs-speed">Tradeoffs (memory vs speed)<a aria-hidden="true" class="anchor-heading icon-link" href="#tradeoffs-memory-vs-speed"></a></h1>
<ul>
<li>generators are memory efficient but can be slow</li>
<li><a href="https://realpython.com/introduction-to-python-generators/#profiling-generator-performance">generator vs list comprehension -- profiling</a></li>
</ul>
<h1 id="further-reading">Further Reading<a aria-hidden="true" class="anchor-heading icon-link" href="#further-reading"></a></h1>
<ul class="contains-task-list">
<li><a href="https://realpython.com/introduction-to-python-generators/#profiling-generator-performance">real python article</a></li>
<li class="task-list-item"><input type="checkbox" disabled> advanced generator methods
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled> <code>.send()</code></li>
<li class="task-list-item"><input type="checkbox" disabled> <code>.throw()</code></li>
<li class="task-list-item"><input type="checkbox" disabled> <code>.close()</code></li>
</ul>
</li>
<li class="task-list-item"><input type="checkbox" disabled> use (data pipeline)</li>
</ul>
<hr>
<strong>Backlinks</strong>
<ul>
<li><a href="/notes/notes/9iyitjbahuhp1l0cy75kxvv">Asynchrnous Programming</a></li>
</ul></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#what-is-a-generator" title="What is a generator?">What is a generator?</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#exampleuse-case" title="Example(use case)">Example(use case)</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#the-non-efficient-way" title="The non-efficient way">The non-efficient way</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#efficient-custom-iterator-way" title="Efficient Custom Iterator way">Efficient Custom Iterator way</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#efficient-generator-way" title="Efficient Generator Way">Efficient Generator Way</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#understanding-generator" title="Understanding Generator">Understanding Generator</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#understanding-the-yield-statement" title="Understanding the yield statement">Understanding the yield statement</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#tradeoffs-memory-vs-speed" title="Tradeoffs (memory vs speed)">Tradeoffs (memory vs speed)</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#further-reading" title="Further Reading">Further Reading</a></div></div></div></div></div></div></div></div></div></div></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></main></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"ztnm6bj51bu4saqs0m9lg4j","title":"Generators","desc":"","updated":1673326092823,"created":1673322981537,"custom":{},"fname":"capture.dev.python.functional-programming.generators","type":"note","vault":{"fsPath":"vault"},"contentHash":"cedd9228b7b7479ba7c14d6322bcc6b5","links":[{"from":{"fname":"capture.dev.python.functional-programming.asynchrnous-programming","id":"9iyitjbahuhp1l0cy75kxvv","vaultName":"vault"},"type":"backlink","position":{"start":{"line":29,"column":3,"offset":871},"end":{"line":29,"column":59,"offset":927},"indent":[]},"value":"capture.dev.python.functional-programming.generators"}],"anchors":{"what-is-a-generator":{"type":"header","text":"What is a generator?","value":"what-is-a-generator","line":7,"column":0,"depth":1},"exampleuse-case":{"type":"header","text":"Example(use case)","value":"exampleuse-case","line":16,"column":0,"depth":1},"the-non-efficient-way":{"type":"header","text":"The non-efficient way","value":"the-non-efficient-way","line":20,"column":0,"depth":2},"efficient-custom-iterator-way":{"type":"header","text":"Efficient Custom Iterator way","value":"efficient-custom-iterator-way","line":38,"column":0,"depth":2},"efficient-generator-way":{"type":"header","text":"Efficient Generator Way","value":"efficient-generator-way","line":68,"column":0,"depth":2},"understanding-generator":{"type":"header","text":"Understanding Generator","value":"understanding-generator","line":80,"column":0,"depth":1},"understanding-the-yield-statement":{"type":"header","text":"Understanding the yield statement","value":"understanding-the-yield-statement","line":86,"column":0,"depth":2},"tradeoffs-memory-vs-speed":{"type":"header","text":"Tradeoffs (memory vs speed)","value":"tradeoffs-memory-vs-speed","line":116,"column":0,"depth":1},"further-reading":{"type":"header","text":"Further Reading","value":"further-reading","line":121,"column":0,"depth":1}},"children":[],"parent":"xrw9257ex1h94sfvwweuywe","data":{}},"body":"\u003ch1 id=\"generators\"\u003eGenerators\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#generators\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003ch1 id=\"what-is-a-generator\"\u003eWhat is a generator?\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#what-is-a-generator\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003col\u003e\n\u003cli\u003egenerator is a function:\n\u003cul\u003e\n\u003cli\u003ethat returns an object when you call \u003ccode\u003enext()\u003c/code\u003e\n\u003cul\u003e\n\u003cli\u003estores the state between multiple \u003ccode\u003enext()\u003c/code\u003e executions\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003enext()\u003c/code\u003e can be called until we encounter a \u003ccode\u003eStopIteration\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003egenerator is a function:\n\u003cul\u003e\n\u003cli\u003ethat behaves like an \u003ccode\u003eiterator\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch1 id=\"exampleuse-case\"\u003eExample(use case)\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#exampleuse-case\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003ewe write a program that makes a list of first\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"the-non-efficient-way\"\u003eThe non-efficient way\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#the-non-efficient-way\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cpre class=\"language-python\"\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"token keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"token function\"\u003efirst_n\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003en\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"token triple-quoted-string string\"\u003e'''Build and return a list'''\u003c/span\u003e\n    num\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e nums \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003ewhile\u003c/span\u003e num \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003e n\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n        nums\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eappend\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003enum\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        num \u003cspan class=\"token operator\"\u003e+=\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e nums\n   \n   \nsum_of_first_n \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token builtin\"\u003esum\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003efirst_n\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e1000000\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003ethis will create the entire list in memory\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003e\u003cem\u003ewould be very bad if we something other than integer(ex: file)\u003c/em\u003e\u003c/strong\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"efficient-custom-iterator-way\"\u003eEfficient Custom Iterator way\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#efficient-custom-iterator-way\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eadding the \u003ccode\u003e__iter__\u003c/code\u003e and \u003ccode\u003e__next__\u003c/code\u003e methods\u003c/li\u003e\n\u003cli\u003esum will now take values using the \u003ccode\u003enext()\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre class=\"language-python\"\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"token class-name\"\u003efirst_n\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token builtin\"\u003eobject\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n\n\n    \u003cspan class=\"token keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"token function\"\u003e__init__\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eself\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e n\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n        self\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003en \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e n\n        self\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003enum \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e0\u003c/span\u003e\n\n\n    \u003cspan class=\"token keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"token function\"\u003e__iter__\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eself\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e self\n\n\n    \u003cspan class=\"token keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"token function\"\u003e__next__\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eself\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e self\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003enum \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003e self\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003en\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n            cur\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e self\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003enum \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e self\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003enum\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e self\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003enum\u003cspan class=\"token operator\"\u003e+\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e\n            \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e cur\n        \u003cspan class=\"token keyword\"\u003eraise\u003c/span\u003e StopIteration\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\n\nsum_of_first_n \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token builtin\"\u003esum\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003efirst_n\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e1000000\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003ethis is memory efficient, but there is still a lot of boilerplate code\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"efficient-generator-way\"\u003eEfficient Generator Way\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#efficient-generator-way\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cpre class=\"language-python\"\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"token keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"token function\"\u003efirstn\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003en\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n    num \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e0\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003ewhile\u003c/span\u003e num \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003e n\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003eyield\u003c/span\u003e num\n        num \u003cspan class=\"token operator\"\u003e+=\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\n\nsum_of_first_n \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token builtin\"\u003esum\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003efirstn\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e1000000\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1 id=\"understanding-generator\"\u003eUnderstanding Generator\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#understanding-generator\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003egenerator looks like a normal function, except for the \u003ccode\u003eyield\u003c/code\u003e statement\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eyield\u003c/code\u003e sends the value back to the caller like return, \u003cstrong\u003e\u003cem\u003ebut the function\u003c/em\u003e\u003c/strong\u003e is not exited yet\u003c/li\u003e\n\u003cli\u003ethe \u003cstrong\u003estate\u003c/strong\u003e of the function is stored until the next \u003ccode\u003enext()\u003c/code\u003e function call (implicitly using \u003ccode\u003efor\u003c/code\u003e or explicitly using \u003ccode\u003enext()\u003c/code\u003e)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"understanding-the-yield-statement\"\u003eUnderstanding the \u003ccode\u003eyield\u003c/code\u003e statement\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#understanding-the-yield-statement\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003ethe \u003ccode\u003enext()\u003c/code\u003e call on a generator object triggers the execution of function until a \u003ccode\u003eyield\u003c/code\u003e statement is encountered\n\u003cul\u003e\n\u003cli\u003eon encountering \u003ccode\u003eyield\u003c/code\u003e the value is returned and that \u003cstrong\u003estate\u003c/strong\u003e is saved\u003c/li\u003e\n\u003cli\u003ethis includes\n\u003cul\u003e\n\u003cli\u003eany local variables\u003c/li\u003e\n\u003cli\u003einstruction pointer\u003c/li\u003e\n\u003cli\u003einternal stack\u003c/li\u003e\n\u003cli\u003eexception handling\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003ethe next \u003ccode\u003enext()\u003c/code\u003e continues the execution of function right below the \u003ccode\u003eyield statement\u003c/code\u003e\n\u003cul\u003e\n\u003cli\u003eif there is no next yield in the function, a \u003ccode\u003eStopIteration\u003c/code\u003e error would be thrown\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre class=\"language-python\"\u003e\u003ccode class=\"language-python\"\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003e\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e \u003cspan class=\"token keyword\"\u003edef\u003c/span\u003e \u003cspan class=\"token function\"\u003emulti_yield\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e     yield_str \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"This will print the first string\"\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e     \u003cspan class=\"token keyword\"\u003eyield\u003c/span\u003e yield_str\n\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e     yield_str \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"This will print the second string\"\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e     \u003cspan class=\"token keyword\"\u003eyield\u003c/span\u003e yield_str\n\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\n\u003cspan class=\"token operator\"\u003e\u003e\u003e\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e multi_obj \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e multi_yield\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token operator\"\u003e\u003e\u003e\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eprint\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token builtin\"\u003enext\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003emulti_obj\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\nThis will \u003cspan class=\"token keyword\"\u003eprint\u003c/span\u003e the first string\n\u003cspan class=\"token operator\"\u003e\u003e\u003e\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eprint\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token builtin\"\u003enext\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003emulti_obj\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\nThis will \u003cspan class=\"token keyword\"\u003eprint\u003c/span\u003e the second string\n\u003cspan class=\"token operator\"\u003e\u003e\u003e\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eprint\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token builtin\"\u003enext\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003emulti_obj\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\nTraceback \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003emost recent call last\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e\n  File \u003cspan class=\"token string\"\u003e\"\u0026#x3C;stdin\u003e\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e line \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ein\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003emodule\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\nStopIteration\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1 id=\"tradeoffs-memory-vs-speed\"\u003eTradeoffs (memory vs speed)\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#tradeoffs-memory-vs-speed\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003egenerators are memory efficient but can be slow\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://realpython.com/introduction-to-python-generators/#profiling-generator-performance\"\u003egenerator vs list comprehension -- profiling\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 id=\"further-reading\"\u003eFurther Reading\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#further-reading\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cul class=\"contains-task-list\"\u003e\n\u003cli\u003e\u003ca href=\"https://realpython.com/introduction-to-python-generators/#profiling-generator-performance\"\u003ereal python article\u003c/a\u003e\u003c/li\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" disabled\u003e advanced generator methods\n\u003cul class=\"contains-task-list\"\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" disabled\u003e \u003ccode\u003e.send()\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" disabled\u003e \u003ccode\u003e.throw()\u003c/code\u003e\u003c/li\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" disabled\u003e \u003ccode\u003e.close()\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli class=\"task-list-item\"\u003e\u003cinput type=\"checkbox\" disabled\u003e use (data pipeline)\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003cstrong\u003eBacklinks\u003c/strong\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"/notes/notes/9iyitjbahuhp1l0cy75kxvv\"\u003eAsynchrnous Programming\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e","noteIndex":{"id":"LBE6GBZjFtOaX27nwRSpq","title":"Notes 📚","desc":"","updated":1642916746120,"created":1642875904363,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"vault"},"contentHash":"f3ab1afac9d88a8f51c98f4e257b81a2","links":[],"anchors":{},"children":["H8OS9Ap2DDjZ7XSIZWpQT","m2fe4910vhlj3cwsbw45wfc","tpmpx2xkasjhbntai7ejfx3","ydBpHsjLwIGYomDZo8NtB","g9m1mlmymq7qvcjzi8ap2qu"],"parent":null,"data":{},"body":"\n![home](/assets/images/home.png)\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":false,"leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2,"vaultSelectionModeOnCreate":"smart"}},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"randomNote":{},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":"vault"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":true,"maxPreviewsCached":10,"maxNoteLength":204800,"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"enableUserTags":true,"enableHashTags":true,"dendronVersion":"0.83.0","enableEditorDecorations":true,"enableFullHierarchyNoteTitle":false,"templateHierarchy":"template"},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"theme":"custom"},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"assetsPrefix":"/notes","copyAssets":true,"siteHierarchies":["root"],"enableSiteLastModified":true,"siteRootDir":"docs","siteUrl":"https://vinaykakkad.github.io","enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"duplicateNoteBehavior":{"action":"useVault","payload":["vault"]},"writeStubs":false,"seo":{"title":"Notes","description":"Notes"},"github":{"enableEditLink":true,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enablePrettyLinks":true,"enableTaskNotes":true,"theme":"custom","searchMode":"lookup","siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"ztnm6bj51bu4saqs0m9lg4j"},"buildId":"MLvBP94-qoW53z-SfSVxG","assetPrefix":"/notes","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>